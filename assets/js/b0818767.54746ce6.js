"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[293],{3905:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return d}});var n=a(7294);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef((function(e,t){var a=e.components,s=e.mdxType,i=e.originalType,l=e.parentName,p=r(e,["components","mdxType","originalType","parentName"]),g=c(a),d=s,k=g["".concat(l,".").concat(d)]||g[d]||u[d]||i;return a?n.createElement(k,o(o({ref:t},p),{},{components:a})):n.createElement(k,o({ref:t},p))}));function d(e,t){var a=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var i=a.length,o=new Array(i);o[0]=g;var r={};for(var l in t)hasOwnProperty.call(t,l)&&(r[l]=t[l]);r.originalType=e,r.mdxType="string"==typeof e?e:s,o[1]=r;for(var c=2;c<i;c++)o[c]=a[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}g.displayName="MDXCreateElement"},4607:function(e,t,a){a.r(t),a.d(t,{assets:function(){return p},contentTitle:function(){return l},default:function(){return d},frontMatter:function(){return r},metadata:function(){return c},toc:function(){return u}});var n=a(7462),s=a(3366),i=(a(7294),a(3905)),o=["components"],r={id:"config-and-run",title:"DevOopsGitReleasePlugin - Config and Run",sidebar_label:"Config and Run"},l=void 0,c={unversionedId:"gh-release-plugin/config-and-run",id:"version-1.0.3/gh-release-plugin/config-and-run",title:"DevOopsGitReleasePlugin - Config and Run",description:"Enable DevOopsGitReleasePlugin",source:"@site/versioned_docs/version-1.0.3/gh-release-plugin/config-and-run.md",sourceDirName:"gh-release-plugin",slug:"/gh-release-plugin/config-and-run",permalink:"/docs/1.0.3/gh-release-plugin/config-and-run",tags:[],version:"1.0.3",frontMatter:{id:"config-and-run",title:"DevOopsGitReleasePlugin - Config and Run",sidebar_label:"Config and Run"},sidebar:"version-1.0.3/docs",previous:{title:"Getting Started",permalink:"/docs/1.0.3/"},next:{title:"Examples",permalink:"/docs/1.0.3/gh-release-plugin/examples"}},p={},u=[{value:"Enable DevOopsGitReleasePlugin",id:"enable-devoopsgitreleaseplugin",level:2},{value:"Tag",id:"tag",level:2},{value:"<code>gitTagFrom</code>",id:"gittagfrom",level:3},{value:"<code>gitTagDescription</code> (Optional)",id:"gittagdescription-optional",level:3},{value:"<code>gitTagName</code>",id:"gittagname",level:3},{value:"<code>gitTagPushRepo</code>",id:"gittagpushrepo",level:3},{value:"<code>gitTag</code>",id:"gittag",level:3},{value:"Artifacts",id:"artifacts",level:2},{value:"<code>devOopsCiDir</code>",id:"devoopscidir",level:3},{value:"<code>devOopsPackagedArtifacts</code>",id:"devoopspackagedartifacts",level:3},{value:"<code>devOopsCopyReleasePackages</code>",id:"devoopscopyreleasepackages",level:3},{value:"Changelog",id:"changelog",level:2},{value:"<code>changelogLocation</code>",id:"changeloglocation",level:3},{value:"GitHub Release",id:"github-release",level:2},{value:"<code>gitHubAuthTokenEnvVar</code>",id:"githubauthtokenenvvar",level:3},{value:"<code>gitHubAuthTokenFile</code>",id:"githubauthtokenfile",level:3},{value:"<code>artifactsRequiredForGitHubRelease</code>",id:"artifactsrequiredforgithubrelease",level:3},{value:"<code>gitHubRelease</code>",id:"githubrelease",level:3},{value:"<code>gitTagAndGitHubRelease</code>",id:"gittagandgithubrelease",level:3}],g={toc:u};function d(e){var t=e.components,a=(0,s.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},g,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"enable-devoopsgitreleaseplugin"},"Enable DevOopsGitReleasePlugin"),(0,i.kt)("p",null,"To use ",(0,i.kt)("inlineCode",{parentName:"p"},"DevOopsGitReleasePlugin"),", add the following line to ",(0,i.kt)("inlineCode",{parentName:"p"},"build.sbt"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sbt"},"enablePlugins(DevOopsGitReleasePlugin)\n")),(0,i.kt)("p",null,"e.g.) This is an example of the minimal settings."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},'ThisBuild / organization := "com.example"\nThisBuild / scalaVersion := "2.12.7"\nThisBuild / version := "0.1.0"\nThisBuild / crossScalaVersions := Seq("2.11.12", "2.12.8")\n\nlazy val root = (project in file("."))\n  .enablePlugins(DevOopsGitReleasePlugin)\n  .settings(\n    name := "test-project",\n    libraryDependencies += "some" %% "lib" % "1.0.0"\n  )\n')),(0,i.kt)("h2",{id:"tag"},"Tag"),(0,i.kt)("h3",{id:"gittagfrom"},(0,i.kt)("inlineCode",{parentName:"h3"},"gitTagFrom")),(0,i.kt)("p",null,"The name of the branch from which it tags. So if the current branch is not the same as the ",(0,i.kt)("inlineCode",{parentName:"p"},"gitTagFrom")," value, ",(0,i.kt)("inlineCode",{parentName:"p"},"gitTag")," does not tag but throws an exception. "),(0,i.kt)("p",null,"Default: "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},'gitTagFrom := "master"\n')),(0,i.kt)("h3",{id:"gittagdescription-optional"},(0,i.kt)("inlineCode",{parentName:"h3"},"gitTagDescription")," (Optional)"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"gitTagDescription")," is the setting to specify the tag description. If not set, it tags without any tag description."),(0,i.kt)("p",null,"Default:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},"gitTagDescription := None\n")),(0,i.kt)("p",null,"Wihtout the description, it's equivalent to "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"git tag ${gitTagFrom.value}\n")),(0,i.kt)("p",null,"With the description, it's equivalent to "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"git tag -a ${gitTagFrom.value}, -m ${gitTagDescription.value}\n")),(0,i.kt)("h3",{id:"gittagname"},(0,i.kt)("inlineCode",{parentName:"h3"},"gitTagName")),(0,i.kt)("p",null,"This setting decides how to name the tag. It uses the project's version (i.e. ",(0,i.kt)("inlineCode",{parentName:"p"},"version.value"),") with the suffix 'v'"),(0,i.kt)("p",null,"e.g.) If ",(0,i.kt)("inlineCode",{parentName:"p"},'version := "1.0.0"'),", the tag name is ",(0,i.kt)("inlineCode",{parentName:"p"},"v1.0.0"),"."),(0,i.kt)("p",null,"Default:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},'import just.semver.SemVer\n// ...\ngitTagName := s"v${SemVer.render(SemVer.parseUnsafe(version.value))}"\n')),(0,i.kt)("h3",{id:"gittagpushrepo"},(0,i.kt)("inlineCode",{parentName:"h3"},"gitTagPushRepo")),(0,i.kt)("p",null,"This tells which remote repository to push. It's usually ",(0,i.kt)("inlineCode",{parentName:"p"},"origin"),". If there are multiple repositories, you can change it to the one you want."),(0,i.kt)("p",null,"e.g.)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},'gitTagPushRepo := "github"\n')),(0,i.kt)("p",null,"Default:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},'gitTagPushRepo := "origin"\n')),(0,i.kt)("h3",{id:"gittag"},(0,i.kt)("inlineCode",{parentName:"h3"},"gitTag")),(0,i.kt)("p",null,"It is an sbt task to create a git tag from the branch set in ",(0,i.kt)("inlineCode",{parentName:"p"},"gitTagFrom"),". It may fail if the project version is no GA."),(0,i.kt)("p",null,"e.g.) "),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Success Case")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sbtshell"},"sbt:test-project> gitTag\ntask success>\n>> non sbt task success> The semantic version from the project version has been parsed. version: 0.1.0\n>> git rev-parse --abbrev-ref HEAD => master\n>> git fetch --tags\n>> git tag v0.1.0\n>> git push origin v0.1.0\n  |  To github.com:Kevin-Lee/test-project.git\n  |   * [new tag]         v0.1.0 -> v0.1.0\n\n[success] Total time: 7 s, completed 16 Oct. 2019, 5:19:31 pm\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Failure Case")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sbtshell"},"sbt:test-project> gitTag\nFailure]\n>> sbt task failed after finishing the following tasks\ntask success>\n>> non sbt task success> The semantic version from the project version has been parsed. version: 0.1.0-SNAPSHOT\n\n  This version is not eligible for tagging. [version: 0.1.0-SNAPSHOT]\n  It should be GA version with any pre-release or meta-info suffix\n    e.g.)\n    * 1.0.0 (\u2b55\ufe0f)\n    * 1.0.0-SNAPSHOT (\u274c)\n    * 1.0.0-beta (\u274c)\n    * 1.0.0+123 (\u274c)\n    * 1.0.0-beta+123 (\u274c)\n\n")),(0,i.kt)("p",null,"or"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sbtshell"},"sbt:test-project> gitTag\nFailure]\n>> sbt task failed after finishing the following tasks\ntask success>\n>> non sbt task success> The semantic version from the project version has been parsed. version: 0.1.0\n>> git rev-parse --abbrev-ref HEAD => master\n>> git fetch --tags\n  | => root / gitTag 2s\n>> [cmd: git tag v0.1.0], [code: 128], [errors: fatal: tag 'v0.1.0' already exists]\n\n")),(0,i.kt)("h2",{id:"artifacts"},"Artifacts"),(0,i.kt)("h3",{id:"devoopscidir"},(0,i.kt)("inlineCode",{parentName:"h3"},"devOopsCiDir")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"devOopsCiDir")," is the ci directory which contains the files created in build to upload to GitHub release (e.g. packaged jar files) It can be either an absolute or relative path. When running ",(0,i.kt)("inlineCode",{parentName:"p"},"devOopsCopyReleasePackages"),", all the jar files with prefixed with the project name (",(0,i.kt)("inlineCode",{parentName:"p"},"devOopsPackagedArtifacts.value"),") are copied to ",(0,i.kt)("inlineCode",{parentName:"p"},"${devOopsCiDir.value}/dist"),"."),(0,i.kt)("p",null,"Default:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},'devOopsCiDir := "ci"\n// so the artifactsare copied to ci/dist\n')),(0,i.kt)("h3",{id:"devoopspackagedartifacts"},(0,i.kt)("inlineCode",{parentName:"h3"},"devOopsPackagedArtifacts")),(0,i.kt)("p",null,"A ",(0,i.kt)("inlineCode",{parentName:"p"},"List")," of packaged artifacts to be copied to ",(0,i.kt)("inlineCode",{parentName:"p"},"PROJECT_HOME/${devOopsCiDir.value}/dist"),"."),(0,i.kt)("p",null,"Default:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},'devOopsPackagedArtifacts := List(s"target/scala-*/${name.value}*.jar")\n')),(0,i.kt)("p",null,"So for Java projects, change it to "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},'devOopsPackagedArtifacts := List(s"target/${name.value}*.jar")\n')),(0,i.kt)("h3",{id:"devoopscopyreleasepackages"},(0,i.kt)("inlineCode",{parentName:"h3"},"devOopsCopyReleasePackages")),(0,i.kt)("p",null,"It is an sbt task to copy packaged artifacts to the location specified (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"devOopsPackagedArtifacts.value")," to ",(0,i.kt)("inlineCode",{parentName:"p"},"PROJECT_HOME/${devOopsCiDir.value}/dist"),")."),(0,i.kt)("p",null,"e.g.)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sbtshell"},"sbt:test-project> devOopsCopyReleasePackages\n>> copyPackages - Files copied from:\n  - /user/home/test-project/target/scala-2.12/test-project_2.12-0.1.0.jar\n  - /user/home/test-project/target/scala-2.12/test-project_2.12-0.1.0-sources.jar\n  - /user/home/test-project/target/scala-2.12/test-project_2.12-0.1.0-javadoc.jar\n\n  to\n  - ci/dist/test-project_2.12-0.1.0-javadoc.jar\n  - ci/dist/test-project_2.12-0.1.0-sources.jar\n  - ci/dist/test-project_2.12-0.1.0.jar\n\n\n[success] Total time: 0 s, completed 6 Apr. 2019, 11:32:21 pm\n")),(0,i.kt)("h2",{id:"changelog"},"Changelog"),(0,i.kt)("h3",{id:"changeloglocation"},(0,i.kt)("inlineCode",{parentName:"h3"},"changelogLocation")),(0,i.kt)("p",null,"The location of changelog file. The change log filename should be the project version with the extension of ",(0,i.kt)("inlineCode",{parentName:"p"},".md"),"."),(0,i.kt)("p",null,"e.g.) ",(0,i.kt)("inlineCode",{parentName:"p"},'version.value := "1.0.0"')," then the changelog file should be ",(0,i.kt)("inlineCode",{parentName:"p"},"1.0.0.md")," at the location set in ",(0,i.kt)("inlineCode",{parentName:"p"},"changelogLocation"),"."),(0,i.kt)("p",null,"Default:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},'changelogLocation := "changelogs"\n')),(0,i.kt)("h2",{id:"github-release"},"GitHub Release"),(0,i.kt)("h3",{id:"githubauthtokenenvvar"},(0,i.kt)("inlineCode",{parentName:"h3"},"gitHubAuthTokenEnvVar")),(0,i.kt)("p",null,"The name of environment variable to get the GitHub auth token. It is required to do GitHub release. If the envvar is not found, it will try to read the auth token file set in ",(0,i.kt)("inlineCode",{parentName:"p"},"gitHubAuthTokenFile"),"."),(0,i.kt)("p",null,"Default:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},'gitHubAuthTokenEnvVar := "GITHUB_TOKEN"\n')),(0,i.kt)("h3",{id:"githubauthtokenfile"},(0,i.kt)("inlineCode",{parentName:"h3"},"gitHubAuthTokenFile")),(0,i.kt)("p",null,"The path to GitHub OAuth token file. The file should contain oauth=OAUTH_TOKEN (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"Some($USER/.github)"),") If you want to have a different filename in user's home, do ",(0,i.kt)("inlineCode",{parentName:"p"},'Some(new File(Io.getUserHome, "your_filename"))'),"."),(0,i.kt)("p",null,"Default:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},'gitHubAuthTokenFile := Some(new File(Io.getUserHome, ".github"))\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"NOTE: This is optional and if there's a value for the environment variable set in ",(0,i.kt)("inlineCode",{parentName:"strong"},"gitHubAuthTokenEnvVar"),", The envvar will be used instead of using the value from the auth token file. It will not even try to read the file if the envvar is set.")),(0,i.kt)("h3",{id:"artifactsrequiredforgithubrelease"},(0,i.kt)("inlineCode",{parentName:"h3"},"artifactsRequiredForGitHubRelease")),(0,i.kt)("p",null,"A setting to decide whether to upload the packaged artifacts to GitHub when doing GitHub release."),(0,i.kt)("p",null,"If it's ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),", no files are uploaded yet the changelog is still uploaded to GitHub."),(0,i.kt)("p",null,"Default:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sbt"},"artifactsRequiredForGitHubRelease := true\n")),(0,i.kt)("h3",{id:"githubrelease"},(0,i.kt)("inlineCode",{parentName:"h3"},"gitHubRelease")),(0,i.kt)("p",null,"Is it an sbt task to release the current version by uploading the packaged files and changelog to GitHub.\nIt does"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Copy packaged files (",(0,i.kt)("inlineCode",{parentName:"li"},"devOopsCopyReleasePackages"),")"),(0,i.kt)("li",{parentName:"ul"},"Upload the packaged files (if ",(0,i.kt)("inlineCode",{parentName:"li"},"artifactsRequiredForGitHubRelease")," is ",(0,i.kt)("inlineCode",{parentName:"li"},"true"),") and changelog to GitHub.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"NOTE: It does not create any tag and if the tag with the project version (e.g. version: 1.0.0 => tag: v1.0.0) does not exist, ",(0,i.kt)("inlineCode",{parentName:"strong"},"gitHubRelease")," fails")),(0,i.kt)("p",null,"e.g.) ",(0,i.kt)("inlineCode",{parentName:"p"},"gitHubRelease")," with uploading artifacts (",(0,i.kt)("inlineCode",{parentName:"p"},"artifactsRequiredForGitHubRelease := true"),")"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sbtshell"},"sbt:test-project> gitHubRelease\n>> copyPackages - Files copied from:\n  - /user/home/test-project/target/scala-2.13/test-project_2.13-0.1.0.jar\n  - /user/home/test-project/target/scala-2.13/test-project_2.13-0.1.0-sources.jar\n  - /user/home/test-project/target/scala-2.13/test-project_2.13-0.1.0-javadoc.jar\n\n  to\n  - ci/dist/test-project_2.13-0.1.0-javadoc.jar\n  - ci/dist/test-project_2.13-0.1.0-sources.jar\n  - ci/dist/test-project_2.13-0.1.0.jar\n\n\ntask success>\n>> git fetch --tags\n>> git tag\n  |  v0.1.0\n  |  v0.1.0-SNAPSHOT\n>> task success>\n>> Get GitHub OAuth tokense 7s\n\n>> task success>\n>> Get changelog\n\n>> task success>\n>> git remote get-url origin => git@github.com:Kevin-Lee/test-project.git\n\n>> task success>\n>> Get GitHub repo org and name: Kevin-Lee/test-project\n\n>> task success>\n>> Connect GitHub with OAuth\n\n>> task success>\n>> GitHub release: v0.1.0\n\n>> task success>\n>> Files uploaded:\n    - ci/dist/test-project_2.13-0.1.0-javadoc.jar\n    - ci/dist/test-project_2.13-0.1.0-sources.jar\n    - ci/dist/test-project_2.13-0.1.0.jar\n\n>> task success>\n>> Changelog uploaded:\n    # 0.1.0 - 2019-10-16\n\n    Test Release\n\n[success] Total time: 8 s, completed 16 Oct. 2019, 5:23:06 pm\n")),(0,i.kt)("p",null,"e.g.) ",(0,i.kt)("inlineCode",{parentName:"p"},"gitHubRelease")," without uploading artifacts (",(0,i.kt)("inlineCode",{parentName:"p"},"artifactsRequiredForGitHubRelease := false"),")"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sbtshell"},"```sbtshell\nsbt:test-project> gitHubRelease\n>> copyPackages - Files copied from:\n  -\n\n  to\n  -\n  | => root / devOopsPackagedArtifacts 0s\n\ntask success>\n>> git fetch --tags\n>> git tag\n  |  v0.1.0\n  |  v0.1.0-SNAPSHOT\n>> task success>tHubRelease 4s\n>> Get GitHub OAuth token\n\n>> task success>\n>> Get changelog\n\n>> task success>\n>> git remote get-url origin => git@github.com:Kevin-Lee/test-project.git\n\n>> task success>\n>> Get GitHub repo org and name: Kevin-Lee/test-project\n\n>> task success>\n>> Connect GitHub with OAuth\n\n>> task success>\n>> GitHub release: v0.1.0\n\n>> task success>\n>> No files to upload\n\n>> task success>\n>> Changelog uploaded:\n    # 0.1.0 - 2019-10-16\n\n    Test Release\n\n[success] Total time: 5 s, completed 16 Oct. 2019, 5:09:42 pm\n")),(0,i.kt)("p",null,"e.g.) When there's no tag with the current version."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sbtshell"},">> copyPackages - Files copied from:\n  - /user/home/test-project/target/scala-2.13/test-project_2.13-0.1.0.jar\n  - /user/home/test-project/target/scala-2.13/test-project_2.13-0.1.0-sources.jar\n  - /user/home/test-project/target/scala-2.13/test-project_2.13-0.1.0-javadoc.jar\n\n  to=> root / gitTagPushRepo 0s\n  - ci/dist/test-project_2.13-0.1.0-javadoc.jar\n  - ci/dist/test-project_2.13-0.1.0-sources.jar\n  - ci/dist/test-project_2.13-0.1.0.jar\n\n\nFailure]\n>> sbt task failed after finishing the following tasks\ntask success>\n>> git fetch --tags\n>> git tag => v0.1.0-SNAPSHOT\n  | => root / gitHubRelease 2s\ntask failed> git command: tag v0.1.0 does not exist. tags: [v0.1.0-SNAPSHOT]\n\n[error] task failed> git command: tag v0.1.0 does not exist. tags: [v0.1.0-SNAPSHOT]\n[error] (gitHubRelease) task failed> git command: tag v0.1.0 does not exist. tags: [v0.1.0-SNAPSHOT]\n[error] Total time: 2 s, completed 16 Oct. 2019, 5:18:05 pm\n")),(0,i.kt)("h3",{id:"gittagandgithubrelease"},(0,i.kt)("inlineCode",{parentName:"h3"},"gitTagAndGitHubRelease")),(0,i.kt)("p",null,"Is it an sbt task to release the current version by uploading the packaged files and changelog to GitHub after git tagging.\nIt does"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Copy packaged files (",(0,i.kt)("inlineCode",{parentName:"li"},"devOopsCopyReleasePackages"),")"),(0,i.kt)("li",{parentName:"ul"},"Git tag with the current version (",(0,i.kt)("inlineCode",{parentName:"li"},"gitTag"),")"),(0,i.kt)("li",{parentName:"ul"},"Upload the packaged files (if ",(0,i.kt)("inlineCode",{parentName:"li"},"artifactsRequiredForGitHubRelease")," is ",(0,i.kt)("inlineCode",{parentName:"li"},"true"),") and changelog to GitHub.")),(0,i.kt)("p",null,"e.g.) ",(0,i.kt)("inlineCode",{parentName:"p"},"gitTagAndGitHubRelease")," with uploading artifacts (",(0,i.kt)("inlineCode",{parentName:"p"},"artifactsRequiredForGitHubRelease := true"),")"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sbtshell"},"sbt:test-project> gitTagAndGitHubRelease\n>> copyPackages - Files copied from:\n  - /user/home/test-project/target/scala-2.13/test-project_2.13-0.1.0.jar\n  - /user/home/test-project/target/scala-2.13/test-project_2.13-0.1.0-sources.jar\n  - /user/home/test-project/target/scala-2.13/test-project_2.13-0.1.0-javadoc.jar\n\n  to=> root / devOopsPackagedArtifacts 0s\n  - ci/dist/test-project_2.13-0.1.0-javadoc.jar\n  - ci/dist/test-project_2.13-0.1.0-sources.jar\n  - ci/dist/test-project_2.13-0.1.0.jar\n\n\ntask success>\n>> task success>\n>> Get GitHub OAuth token\n\n>> non sbt task success> The semantic version from the project version has been parsed. version: 0.1.0\n>> git rev-parse --abbrev-ref HEAD => master\n>> git fetch --tags\n>> git tag v0.1.0\n>> git push origin v0.1.0\n  |  To github.com:Kevin-Lee/test-project.git\n  |   * [new tag]         v0.1.0 -> v0.1.0\n>> task success>\n>> Get changelog\n\n>> task success>\n>> git remote get-url origin => git@github.com:Kevin-Lee/test-project.git\n\n>> task success>\n>> Get GitHub repo org and name: Kevin-Lee/test-project\n\n>> task success>\n>> Connect GitHub with OAuth\n\n>> task success>\n>> GitHub release: v0.1.0\n\n>> task success>\n>> Files uploaded:\n    - ci/dist/test-project_2.13-0.1.0-javadoc.jar\n    - ci/dist/test-project_2.13-0.1.0-sources.jar\n    - ci/dist/test-project_2.13-0.1.0.jar\n\n>> task success>\n>> Changelog uploaded:\n    # 0.1.0 - 2019-10-16\n\n    Test Release\n\n[success] Total time: 12 s, completed 16 Oct. 2019, 5:28:00 pm\n")),(0,i.kt)("p",null,"e.g.) ",(0,i.kt)("inlineCode",{parentName:"p"},"gitTagAndGitHubRelease")," without uploading artifacts (",(0,i.kt)("inlineCode",{parentName:"p"},"artifactsRequiredForGitHubRelease := false"),")"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sbtshell"},"sbt:test-project> gitTagAndGitHubRelease\n>> copyPackages - Files copied from:\n  -\n\n  to\n  -\n  | => root / gitTagName 0s\n  | => root / devOopsPackagedArtifacts 0s\ntask success>\n>> non sbt task success> The semantic version from the project version has been parsed. version: 0.1.0\n>> git rev-parse --abbrev-ref HEAD => master\n>> git fetch --tags\n>> git tag v0.1.0\n>> git push origin v0.1.0\n  |  To github.com:Kevin-Lee/test-project.git\n  |   * [new tag]         v0.1.0 -> v0.1.0\n\ntask success>\n>> task success>\n>> Get GitHub OAuth token\n\n>> task success>\n>> Get changelog\n  | => root / gitTagAndGitHubRelease 2s\n>> task success>\n>> git remote get-url origin => git@github.com:Kevin-Lee/test-project.git\n\n>> task success>\n>> Get GitHub repo org and name: Kevin-Lee/test-project\n\n>> task success>\n>> Connect GitHub with OAuth\n\n>> task success>\n>> GitHub release: v0.1.0\n\n>> task success>\n>> No files to upload\n\n>> task success>\n>> Changelog uploaded:\n    # 0.1.0 - 2019-10-16\n\n    Test Release\n\n[success] Total time: 10 s, completed 16 Oct. 2019, 1:18:15 pm\n")))}d.isMDXComponent=!0}}]);